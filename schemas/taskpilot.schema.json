{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://taskpilot.dev/schema/v1/taskpilot.schema.json",
  "title": "TaskPilot Configuration",
  "description": "ãƒ«ãƒ¼ãƒˆè¨­å®š\n\nTaskPilotã®YAMLè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ«ãƒ¼ãƒˆæ§‹é€ ã€‚ `.vscode/taskpilot.yaml`ã«é…ç½®ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "description": "è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³\n\nç¾åœ¨ã¯ \"1.0\" ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚",
      "examples": [
        "1.0"
      ]
    },
    "commands": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/CommandDefinition"
      },
      "description": "å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰å®šç¾©\n\nã“ã“ã§å®šç¾©ã—ãŸã‚³ãƒãƒ³ãƒ‰ã¯ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã‹ã‚‰`ref`ã§å‚ç…§ã§ãã¾ã™ã€‚ åŒã˜ã‚³ãƒãƒ³ãƒ‰ã‚’è¤‡æ•°ã®å ´æ‰€ã§ä½¿ã„ãŸã„å ´åˆã«ä¾¿åˆ©ã§ã™ã€‚"
    },
    "menu": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/MenuItem"
      },
      "description": "ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹é€ \n\nã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã®é…åˆ—ã€‚ éšå±¤æ§‹é€ ã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ã€‚"
    }
  },
  "required": [
    "version",
    "menu"
  ],
  "additionalProperties": false,
  "definitions": {
    "CommandDefinition": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/ActionType",
          "description": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—",
          "examples": [
            "terminal"
          ]
        },
        "command": {
          "type": "string",
          "description": "å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰\n\n- `terminal`: ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ï¼ˆä¾‹: `npm run build`ï¼‰\n- `vscodeCommand`: VS Codeã‚³ãƒãƒ³ãƒ‰IDï¼ˆä¾‹: `workbench.action.openSettings`ï¼‰\n- `task`: ã‚¿ã‚¹ã‚¯åï¼ˆä¾‹: `build`ï¼‰",
          "examples": [
            "npm run build"
          ]
        },
        "terminal": {
          "type": "string",
          "description": "ã‚¿ãƒ¼ãƒŸãƒŠãƒ«åï¼ˆtype: terminal ã®å ´åˆï¼‰\n\næŒ‡å®šã™ã‚‹ã¨ãã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«åã§æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ä½œæˆã¾ãŸã¯å†åˆ©ç”¨ã—ã¾ã™ã€‚ çœç•¥æ™‚ã¯å…±æœ‰ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚",
          "examples": [
            "server"
          ]
        },
        "args": {
          "type": "array",
          "items": {},
          "description": "ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ï¼ˆtype: vscodeCommand ã®å ´åˆï¼‰\n\nVS Codeã‚³ãƒãƒ³ãƒ‰ã«æ¸¡ã™å¼•æ•°ã®é…åˆ—ã€‚",
          "examples": [
            [
              "extensionId"
            ]
          ]
        },
        "cwd": {
          "type": "string",
          "description": "ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆtype: terminal ã®å ´åˆï¼‰\n\nã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ«ãƒ¼ãƒˆã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã€‚",
          "examples": [
            "./packages/app"
          ]
        },
        "description": {
          "type": "string",
          "description": "ã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜\n\nUIã«è¡¨ç¤ºã•ã‚Œã‚‹èª¬æ˜æ–‡ã€‚",
          "examples": [
            "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™"
          ]
        }
      },
      "required": [
        "type",
        "command"
      ],
      "additionalProperties": false,
      "description": "ã‚³ãƒãƒ³ãƒ‰å®šç¾©\n\n`commands`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å®šç¾©ã™ã‚‹å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ã€‚ å®šç¾©ã—ãŸã‚³ãƒãƒ³ãƒ‰ã¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã‹ã‚‰`ref`ã§å‚ç…§ã§ãã¾ã™ã€‚"
    },
    "ActionType": {
      "type": "string",
      "enum": [
        "terminal",
        "vscodeCommand",
        "task"
      ],
      "description": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—\n\nTaskPilotãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ç¨®é¡ã‚’å®šç¾©ã—ã¾ã™ã€‚\n\n- `terminal`: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ\n- `vscodeCommand`: VS Codeã®å†…è”µã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ\n- `task`: VS Codeã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ"
    },
    "MenuItem": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "description": "è¡¨ç¤ºãƒ©ãƒ™ãƒ«ï¼ˆå¿…é ˆï¼‰\n\nã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã®åå‰ã€‚",
          "examples": [
            "Build"
          ]
        },
        "icon": {
          "type": "string",
          "description": "ã‚¢ã‚¤ã‚³ãƒ³\n\nVS Code Codiconï¼ˆ`$(icon-name)`å½¢å¼ï¼‰ã¾ãŸã¯çµµæ–‡å­—ã‚’æŒ‡å®šã€‚ Codiconã®ä¸€è¦§: https://code.visualstudio.com/api/references/icons-in-labels",
          "examples": [
            "$(package)",
            "ğŸš€"
          ]
        },
        "description": {
          "type": "string",
          "description": "èª¬æ˜æ–‡\n\nãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã®è£œè¶³èª¬æ˜ã€‚ãƒ›ãƒãƒ¼æ™‚ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚",
          "examples": [
            "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™"
          ]
        },
        "children": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/MenuItem"
          },
          "description": "å­ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®\n\næŒ‡å®šã™ã‚‹ã¨ã“ã®é …ç›®ã¯ã‚«ãƒ†ã‚´ãƒªï¼ˆè¦ªãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ã«ãªã‚Šã¾ã™ã€‚ `children`ã‚’æŒ‡å®šã—ãŸå ´åˆã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é–¢é€£ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚"
        },
        "ref": {
          "type": "string",
          "description": "ã‚³ãƒãƒ³ãƒ‰å‚ç…§\n\n`commands`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å®šç¾©ã—ãŸã‚³ãƒãƒ³ãƒ‰åã‚’å‚ç…§ã€‚",
          "examples": [
            "build"
          ]
        },
        "type": {
          "$ref": "#/definitions/ActionType",
          "description": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ï¼ˆrefæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            "terminal"
          ]
        },
        "command": {
          "type": "string",
          "description": "å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ï¼ˆrefæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            "npm run build"
          ]
        },
        "terminal": {
          "type": "string",
          "description": "ã‚¿ãƒ¼ãƒŸãƒŠãƒ«åï¼ˆtype: terminalã€refæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            "server"
          ]
        },
        "args": {
          "type": "array",
          "items": {},
          "description": "ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ï¼ˆtype: vscodeCommandã€refæœªä½¿ç”¨æ™‚ï¼‰"
        },
        "cwd": {
          "type": "string",
          "description": "ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆtype: terminalã€refæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            "./packages/app"
          ]
        },
        "actions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ActionDefinition"
          },
          "description": "é †æ¬¡å®Ÿè¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n\né…åˆ—å†…ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é †ç•ªã«å®Ÿè¡Œã—ã¾ã™ã€‚ å‰ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå®Œäº†ã—ã¦ã‹ã‚‰æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã€‚"
        },
        "continueOnError": {
          "type": "boolean",
          "description": "ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ç¶šè¡Œ\n\n`actions`ä½¿ç”¨æ™‚ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚æ®‹ã‚Šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ç¶šã‘ã¾ã™ã€‚",
          "default": false
        },
        "parallel": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ActionDefinition"
          },
          "description": "ä¸¦åˆ—å®Ÿè¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n\né…åˆ—å†…ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’åŒæ™‚ã«å®Ÿè¡Œã—ã¾ã™ã€‚ ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚³ãƒãƒ³ãƒ‰ã®å ´åˆã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’åˆ†å‰²ã—ã¦è¡¨ç¤ºã€‚"
        }
      },
      "required": [
        "label"
      ],
      "additionalProperties": false,
      "description": "ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®\n\nã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã®å®šç¾©ã€‚ å†å¸°çš„ãªæ§‹é€ ã§ã€å­ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆchildrenï¼‰ã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n## ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n1. **å˜ä¸€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: `ref`ã€ã¾ãŸã¯`type`+`command`ã§ç›´æ¥å®šç¾© 2. **ã‚«ãƒ†ã‚´ãƒªï¼ˆè¦ªãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰**: `children`ã§å­ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å®šç¾© 3. **é †æ¬¡å®Ÿè¡Œ**: `actions`ã§è¤‡æ•°ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é †ç•ªã«å®Ÿè¡Œ 4. **ä¸¦åˆ—å®Ÿè¡Œ**: `parallel`ã§è¤‡æ•°ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’åŒæ™‚å®Ÿè¡Œï¼ˆã‚¿ãƒ¼ãƒŸãƒŠãƒ«åˆ†å‰²ï¼‰"
    },
    "ActionDefinition": {
      "type": "object",
      "properties": {
        "ref": {
          "type": "string",
          "description": "ã‚³ãƒãƒ³ãƒ‰å‚ç…§\n\n`commands`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å®šç¾©ã—ãŸã‚³ãƒãƒ³ãƒ‰åã‚’å‚ç…§ã—ã¾ã™ã€‚ `ref`ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ä»–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆtype, commandç­‰ï¼‰ã¯ä¸è¦ã§ã™ã€‚",
          "examples": [
            "build"
          ]
        },
        "type": {
          "$ref": "#/definitions/ActionType",
          "description": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ï¼ˆrefæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            "terminal"
          ]
        },
        "command": {
          "type": "string",
          "description": "å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ï¼ˆrefæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            "npm run build"
          ]
        },
        "terminal": {
          "type": "string",
          "description": "ã‚¿ãƒ¼ãƒŸãƒŠãƒ«åï¼ˆtype: terminalã€refæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            "server"
          ]
        },
        "args": {
          "type": "array",
          "items": {},
          "description": "ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ï¼ˆtype: vscodeCommandã€refæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            [
              "extensionId"
            ]
          ]
        },
        "cwd": {
          "type": "string",
          "description": "ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆtype: terminalã€refæœªä½¿ç”¨æ™‚ï¼‰",
          "examples": [
            "./packages/app"
          ]
        },
        "description": {
          "type": "string",
          "description": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®èª¬æ˜",
          "examples": [
            "ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ"
          ]
        }
      },
      "additionalProperties": false,
      "description": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©\n\n`actions`ã¾ãŸã¯`parallel`é…åˆ—å†…ã§ä½¿ç”¨ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©ã€‚ `ref`ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å‚ç…§ã™ã‚‹ã‹ã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚"
    }
  }
}